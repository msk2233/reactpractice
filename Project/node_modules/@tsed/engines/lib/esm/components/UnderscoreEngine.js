import { __decorate } from "tslib";
import { ViewEngine } from "../decorators/viewEngine.js";
import { Engine } from "./Engine.js";
let UnderscoreEngine = class UnderscoreEngine extends Engine {
    async render(template, options) {
        const tpl = await this.compile(template, options)(options);
        return tpl.replace(/\n$/, "");
    }
    $cacheOptions(template, options) {
        const partials = {};
        for (const partial in options.partials) {
            partials[partial] = this.engine.template(options.partials[partial]);
        }
        options.partials = partials;
        return options;
    }
    $compile(template, options) {
        return this.engine.template(template, null, options);
    }
};
UnderscoreEngine = __decorate([
    ViewEngine("underscore")
], UnderscoreEngine);
export { UnderscoreEngine };
//# sourceMappingURL=UnderscoreEngine.js.map