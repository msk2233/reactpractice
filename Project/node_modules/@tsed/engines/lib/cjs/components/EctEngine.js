"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.EctEngine = void 0;
const tslib_1 = require("tslib");
const util_1 = require("util");
const viewEngine_1 = require("../decorators/viewEngine");
const Engine_1 = require("./Engine");
let EctEngine = class EctEngine extends Engine_1.Engine {
    $compile(template, options) {
        const ECT = this.engine;
        const engine = new ECT({ root: { page: template } });
        const compile = (0, util_1.promisify)(engine.render.bind(engine));
        return (options) => compile("page", options);
    }
    $compileFile(file, options) {
        const ECT = this.engine;
        const engine = new ECT(options);
        engine.configure({ cache: options.cache });
        const compile = (0, util_1.promisify)(engine.render.bind(engine));
        return Promise.resolve((options) => compile(file, options));
    }
};
EctEngine = tslib_1.__decorate([
    (0, viewEngine_1.ViewEngine)("ect")
], EctEngine);
exports.EctEngine = EctEngine;
//# sourceMappingURL=EctEngine.js.map