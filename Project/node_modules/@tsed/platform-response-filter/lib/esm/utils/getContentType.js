import { isObject } from "@tsed/core";
export const ANY_CONTENT_TYPE = "*/*";
/**
 * @ignore
 */
export function getContentType(data, ctx) {
    const { endpoint, response } = ctx;
    const { operation } = endpoint;
    const contentType = response.getContentType() || operation.getContentTypeOf(response.statusCode) || "";
    if (contentType && contentType !== ANY_CONTENT_TYPE) {
        if (contentType === "application/json" && isObject(data)) {
            return "application/json";
        }
        return contentType;
    }
    if (endpoint.view) {
        return "text/html";
    }
}
//# sourceMappingURL=getContentType.js.map