import { UseAuth } from "@tsed/platform-middlewares";
import { useDecorators } from "@tsed/core";
import { Security } from "@tsed/schema";
import { PassportMiddleware } from "../middlewares/PassportMiddleware.js";
export function Authenticate(protocol = "*", options = {}) {
    return useDecorators(UseAuth(PassportMiddleware, {
        protocol,
        method: "authenticate",
        originalUrl: options.originalUrl === undefined ? true : options.originalUrl,
        options
    }), ...Object.entries(options.security || {}).map(([key, value]) => {
        return Security(key, ...value);
    }));
}
//# sourceMappingURL=authenticate.js.map