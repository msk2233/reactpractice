import { StoreSet, useDecorators } from "@tsed/core";
import { Configuration, Injectable } from "@tsed/di";
import { PROVIDER_TYPE_PROTOCOL } from "../contants/constants.js";
/**
 * Declare a new Protocol base on a Passport Strategy
 *
 * @decorator
 * @class
 */
export function Protocol(options) {
    return useDecorators(Injectable({
        type: PROVIDER_TYPE_PROTOCOL
    }), StoreSet("protocol", options), Configuration({
        passport: {
            protocols: {
                [options.name]: options
            }
        }
    }));
}
//# sourceMappingURL=protocol.js.map