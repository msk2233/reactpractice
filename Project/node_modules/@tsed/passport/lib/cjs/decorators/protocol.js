"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.Protocol = void 0;
const core_1 = require("@tsed/core");
const di_1 = require("@tsed/di");
const constants_1 = require("../contants/constants");
/**
 * Declare a new Protocol base on a Passport Strategy
 *
 * @decorator
 * @class
 */
function Protocol(options) {
    return (0, core_1.useDecorators)((0, di_1.Injectable)({
        type: constants_1.PROVIDER_TYPE_PROTOCOL
    }), (0, core_1.StoreSet)("protocol", options), (0, di_1.Configuration)({
        passport: {
            protocols: {
                [options.name]: options
            }
        }
    }));
}
exports.Protocol = Protocol;
//# sourceMappingURL=protocol.js.map