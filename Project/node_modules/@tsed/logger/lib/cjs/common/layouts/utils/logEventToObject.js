"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.logEventToObject = void 0;
const tslib_1 = require("tslib");
const util_1 = tslib_1.__importDefault(require("util"));
const colorizeUtils_1 = require("./colorizeUtils");
function logEventToObject(loggingEvent) {
    const log = {
        ...loggingEvent.context.toJSON(),
        startTime: loggingEvent.startTime,
        categoryName: loggingEvent.categoryName,
        level: loggingEvent.level.toString()
    };
    log.data = loggingEvent.data.reduce((data, current) => {
        if (typeof current === "object") {
            Object.assign(log, current);
            if (current.data) {
                return [].concat(data, current.data);
            }
            return data;
        }
        return [...data, (0, colorizeUtils_1.removeColors)(util_1.default.format(current))];
    }, []);
    return log;
}
exports.logEventToObject = logEventToObject;
//# sourceMappingURL=logEventToObject.js.map