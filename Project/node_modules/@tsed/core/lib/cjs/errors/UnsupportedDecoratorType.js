"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.UnsupportedDecoratorType = void 0;
const decoratorTypeOf_1 = require("../utils/decorators/decoratorTypeOf");
const classOf_1 = require("../utils/objects/classOf");
const nameOf_1 = require("../utils/objects/nameOf");
class UnsupportedDecoratorType extends Error {
    name;
    constructor(decorator, args) {
        super(UnsupportedDecoratorType.buildMessage(decorator, args));
    }
    static buildMessage(decorator, args) {
        const [target, propertyKey, index] = args;
        const bindingType = (0, decoratorTypeOf_1.decoratorTypeOf)(args);
        const shortBinding = bindingType.split("/")[0];
        const param = shortBinding === "parameter" ? ".[" + index + "]" : "";
        const cstr = shortBinding === "parameter" ? ".constructor" : "";
        const method = propertyKey ? "." + propertyKey : cstr;
        const path = (0, nameOf_1.nameOf)((0, classOf_1.classOf)(target)) + method + param;
        return `${decorator.name} cannot be used as ${bindingType} decorator on ${path}`;
    }
}
exports.UnsupportedDecoratorType = UnsupportedDecoratorType;
//# sourceMappingURL=UnsupportedDecoratorType.js.map