"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.decorateMethodsOf = void 0;
const Store_1 = require("../../domain/Store");
const classOf_1 = require("../objects/classOf");
const descriptorOf_1 = require("../objects/descriptorOf");
const methodsOf_1 = require("../objects/methodsOf");
const prototypeOf_1 = require("../objects/prototypeOf");
function decorateMethodsOf(klass, decorator) {
    (0, methodsOf_1.methodsOf)(klass).forEach(({ target, propertyKey }) => {
        const proto = (0, prototypeOf_1.prototypeOf)(klass);
        if (target !== (0, classOf_1.classOf)(klass)) {
            Object.defineProperty(proto, propertyKey, {
                writable: true,
                configurable: true,
                value(...args) {
                    return (0, prototypeOf_1.prototypeOf)(target)[propertyKey].apply(this, args);
                }
            });
            Store_1.Store.mergeStoreMethodFrom(klass, target, propertyKey);
        }
        const newDescriptor = decorator(proto, propertyKey, (0, descriptorOf_1.descriptorOf)(klass, propertyKey));
        if (newDescriptor) {
            Object.defineProperty(proto, propertyKey, newDescriptor);
        }
    });
}
exports.decorateMethodsOf = decorateMethodsOf;
//# sourceMappingURL=decorateMethodsOf.js.map