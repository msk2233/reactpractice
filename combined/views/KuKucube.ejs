<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KUKU CUBE</title>
    <style>
        body {
            background-color: rgb(185, 232, 237);
            padding: 1cm;
    font-family: Arial, sans-serif;
        }
        h1 {
            text-align: center;
        }
        #time {
            font-size: 24px;
            font-weight: bold;
        }
        #sco {
            font-size: 18px;
            padding: 5px;
            margin-top: 10px;
        }
        table {
            border-radius: 8px;
            z-index: 0;
            margin-top: 2cm;
        }

        tr {
            z-index: 0;
            padding: 1cm;
        }

        td {
            z-index: 0;
            padding: 1cm;
            background-color: purple;
            border-radius: 5px;
        }

        #ran {
            z-index: 0;
            opacity: 0.8;
        }

        #go {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(255, 255, 255, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            z-index: 999;
            visibility: hidden;
        }
        #go p {
            font-size: 24px;
            font-weight: bold;
            margin-top: 20px;
        }
    </style>
</head>

<body style="padding: 1cm;" onload="onloadevent(); timeinterval();">

    TIME LEFT: <span id="time"></span>
    <div><input type="text" id="sco"></div>
    <center>
        <table id="tb" border="1">

            <tr>
                <td></td>
                <td id="ran" onclick="onclickevent()"></td>
            </tr>
            <tr>
                <td></td>
                <td></td>
            </tr>
        </table>
        <div id="go">GAME OVER<p id="sc"></p>
        </div>
    </center>

    <script>
        var seconds;
        var sc = 0;
        function timeinterval() {
            seconds = 5;
            let a = setInterval(() => {
                document.getElementById("time").innerHTML = seconds;
                if (seconds < 0) {
                    document.getElementById("time").innerHTML = "00";
                    document.getElementById('go').style.visibility = "visible";
                }
                seconds--;

            }, 1000);
        }
        function onloadevent() {
            var tx = document.getElementById("sco");
            tx.value = "SCORE = 0";
            document.getElementById('sc').innerHTML = "SCORE:0";
            
        }

        function onclickevent() {
            var tx = document.getElementById("sco");
            sc++;
            tx.value = "SCORE: " + sc;
            document.getElementById('sc').innerHTML = "SCORE:" + sc;

            var tb = document.getElementById("tb");
            var ran = document.getElementById("ran");

            if (tb.rows.length <= 7 && tb.rows[0].cells.length <= 7) {
                var row = tb.insertRow(tb.rows.length);
                for (i = 0; i < tb.rows[0].cells.length; i++) {
                    row.insertCell(i)
                }
                let rowcount = tb.rows.length;
                let colcount = tb.rows[0].cells.length;
                for (i = 0; i < rowcount; i++) {
                    rw = tb.rows[i]
                    rw.insertCell(colcount - 1)
                }
            }
            tds = document.querySelectorAll("td");
            ran.setAttribute("id", "");
            ran.setAttribute("onclick", "");

            r = Math.floor(Math.random() * 255);
            g = Math.floor(Math.random() * 255);
            b = Math.floor(Math.random() * 255);
            var color = "rgb(" + r + "," + g + "," + b + ")";

            for (td of tds) {
                td.style.background = color;
            }

            len = tb.rows[0].cells.length;
            ros = Math.floor(Math.random() * len);
            cols = Math.floor(Math.random() * len);
            ran = tds[ros * cols];

            tds[ros * cols].setAttribute("id", "ran");
            ran.setAttribute("onclick", "onclickevent()")
        }
    </script>
</body>

</html>